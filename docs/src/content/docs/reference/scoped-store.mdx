---
title: Scoped store
description: Scoped store - API Reference
sidebar:
    order: 3
---

## Scoped store

If your app is SSR or for example you just want to have the same store shape but keep different values for different routes you can use scoped store

It returns:
- ``StoreProvider`` - Provider that passes scoped store down to the React's tree
- ``withStore`` - HOC that passes scoped store down to the React's tree
- ``useScopedStore`` - React hook used to access scoped store

```typescript
import { createScopedStore } from 'stan-js'

export const { StoreProvider, useScopedStore, withStore } = createScopedStore({
    count: 0,
})
``` 

## Examples

#### SSR scoped store:

```typescript
import { createScopedStore } from 'stan-js'

export const { StoreProvider, useScopedStore } = createScopedStore({
    count: 0,
    name: 'John'
})
``` 

```typescript
// SSR Layout

<Layout>
    <StoreProvider initialValue={{ name: await db.getUser().name }}>
        {children}
    </StoreProvider>
</Layout>
```

```typescript
// Some client component inside layout

const scopedStore = useScopedStore()
const { name } = scopedStore.useStore()

return (
    <h1>
        Hello {name}
    </h1>
)
```

#### Scoped store with regular routing

```typescript
import { createScopedStore } from 'stan-js'

export const { StoreProvider, useScopedStore } = createScopedStore({
    count: 0,
    name: 'John'
})
``` 

```typescript
const ProfileScreen = withStore(() => {
    // Component body...
})
```

```typescript
// Some component inside ProfileScreen

const scopedStore = useScopedStore()
const { name } = scopedStore.useStore()

return (
    <h1>
        Hello {name}
    </h1>
)
```
